{
  "timestamp": 1750349024.744336,
  "input_args": {
    "segmentation_algorithm": "../Vpt-segmentation/p30-E165_R1_default_1_ZLevel_cpsam.json",
    "input_path": "E:/Githubs/SPATIAL_data/data_p30-E165/R1/images/mosaic_(?P<stain>[\\w|-]+)_z(?P<z>[0-9]+).tif",
    "input_micron_to_mosaic_path": "E:/Githubs/SPATIAL_data/data_p30-E165/R1/images/micron_to_mosaic_pixel_transform.csv",
    "output_path": "p30-E165_R1_default_1_ZLevel_cpsam_roi_analysis",
    "tile_size": 4096,
    "tile_overlap": 409
  },
  "installed_versions": {
    "python": "3.10.18 | packaged by conda-forge | (main, Jun  4 2025, 14:42:04) [MSC v.1943 64 bit (AMD64)]",
    "vpt": "1.3.0",
    "vpt_core": "1.2.0",
    "vpt_plugin_cellpose": "1.0.2",
    "vpt_plugin_cellpose2": "1.0.1",
    "vpt_plugin_watershed": "1.0.2",
    "geopandas": "0.14.4",
    "shapely": "2.1.1",
    "s3fs": "2024.2.0",
    "gcsfs": "2024.2.0",
    "rasterio": "1.3.5.post1",
    "cellpose": "2.2.3",
    "stardist": "0.8.3"
  },
  "input_data": {
    "micron_to_mosaic_tform": [
      [
        9.25944995880127,
        0.0,
        -77980.828125
      ],
      [
        0.0,
        9.259565353393555,
        -48136.73828125
      ],
      [
        0.0,
        0.0,
        1.0
      ]
    ],
    "z_layers": [
      3
    ],
    "channels": [
      "PolyT",
      "DAPI"
    ],
    "images": [
      {
        "channel": "DAPI",
        "z_layer": 3,
        "full_path": "E:/Githubs/SPATIAL_data/data_p30-E165/R1/images/mosaic_DAPI_z3.tif"
      },
      {
        "channel": "PolyT",
        "z_layer": 3,
        "full_path": "E:/Githubs/SPATIAL_data/data_p30-E165/R1/images/mosaic_PolyT_z3.tif"
      }
    ]
  },
  "window_grid": {
    "mosaic_size": [
      48551,
      39268
    ],
    "tile_size": [
      4096,
      4096
    ],
    "tile_overlap": 409,
    "num_tiles": 99,
    "windows": [
      [
        0,
        0,
        4914,
        4914
      ],
      [
        4505,
        0,
        4914,
        4914
      ],
      [
        9010,
        0,
        4914,
        4914
      ],
      [
        13515,
        0,
        4914,
        4914
      ],
      [
        18020,
        0,
        4914,
        4914
      ],
      [
        22525,
        0,
        4914,
        4914
      ],
      [
        27030,
        0,
        4914,
        4914
      ],
      [
        31535,
        0,
        4914,
        4914
      ],
      [
        36040,
        0,
        4914,
        4914
      ],
      [
        40545,
        0,
        4914,
        4914
      ],
      [
        43637,
        0,
        4914,
        4914
      ],
      [
        0,
        4505,
        4914,
        4914
      ],
      [
        4505,
        4505,
        4914,
        4914
      ],
      [
        9010,
        4505,
        4914,
        4914
      ],
      [
        13515,
        4505,
        4914,
        4914
      ],
      [
        18020,
        4505,
        4914,
        4914
      ],
      [
        22525,
        4505,
        4914,
        4914
      ],
      [
        27030,
        4505,
        4914,
        4914
      ],
      [
        31535,
        4505,
        4914,
        4914
      ],
      [
        36040,
        4505,
        4914,
        4914
      ],
      [
        40545,
        4505,
        4914,
        4914
      ],
      [
        43637,
        4505,
        4914,
        4914
      ],
      [
        0,
        9010,
        4914,
        4914
      ],
      [
        4505,
        9010,
        4914,
        4914
      ],
      [
        9010,
        9010,
        4914,
        4914
      ],
      [
        13515,
        9010,
        4914,
        4914
      ],
      [
        18020,
        9010,
        4914,
        4914
      ],
      [
        22525,
        9010,
        4914,
        4914
      ],
      [
        27030,
        9010,
        4914,
        4914
      ],
      [
        31535,
        9010,
        4914,
        4914
      ],
      [
        36040,
        9010,
        4914,
        4914
      ],
      [
        40545,
        9010,
        4914,
        4914
      ],
      [
        43637,
        9010,
        4914,
        4914
      ],
      [
        0,
        13515,
        4914,
        4914
      ],
      [
        4505,
        13515,
        4914,
        4914
      ],
      [
        9010,
        13515,
        4914,
        4914
      ],
      [
        13515,
        13515,
        4914,
        4914
      ],
      [
        18020,
        13515,
        4914,
        4914
      ],
      [
        22525,
        13515,
        4914,
        4914
      ],
      [
        27030,
        13515,
        4914,
        4914
      ],
      [
        31535,
        13515,
        4914,
        4914
      ],
      [
        36040,
        13515,
        4914,
        4914
      ],
      [
        40545,
        13515,
        4914,
        4914
      ],
      [
        43637,
        13515,
        4914,
        4914
      ],
      [
        0,
        18020,
        4914,
        4914
      ],
      [
        4505,
        18020,
        4914,
        4914
      ],
      [
        9010,
        18020,
        4914,
        4914
      ],
      [
        13515,
        18020,
        4914,
        4914
      ],
      [
        18020,
        18020,
        4914,
        4914
      ],
      [
        22525,
        18020,
        4914,
        4914
      ],
      [
        27030,
        18020,
        4914,
        4914
      ],
      [
        31535,
        18020,
        4914,
        4914
      ],
      [
        36040,
        18020,
        4914,
        4914
      ],
      [
        40545,
        18020,
        4914,
        4914
      ],
      [
        43637,
        18020,
        4914,
        4914
      ],
      [
        0,
        22525,
        4914,
        4914
      ],
      [
        4505,
        22525,
        4914,
        4914
      ],
      [
        9010,
        22525,
        4914,
        4914
      ],
      [
        13515,
        22525,
        4914,
        4914
      ],
      [
        18020,
        22525,
        4914,
        4914
      ],
      [
        22525,
        22525,
        4914,
        4914
      ],
      [
        27030,
        22525,
        4914,
        4914
      ],
      [
        31535,
        22525,
        4914,
        4914
      ],
      [
        36040,
        22525,
        4914,
        4914
      ],
      [
        40545,
        22525,
        4914,
        4914
      ],
      [
        43637,
        22525,
        4914,
        4914
      ],
      [
        0,
        27030,
        4914,
        4914
      ],
      [
        4505,
        27030,
        4914,
        4914
      ],
      [
        9010,
        27030,
        4914,
        4914
      ],
      [
        13515,
        27030,
        4914,
        4914
      ],
      [
        18020,
        27030,
        4914,
        4914
      ],
      [
        22525,
        27030,
        4914,
        4914
      ],
      [
        27030,
        27030,
        4914,
        4914
      ],
      [
        31535,
        27030,
        4914,
        4914
      ],
      [
        36040,
        27030,
        4914,
        4914
      ],
      [
        40545,
        27030,
        4914,
        4914
      ],
      [
        43637,
        27030,
        4914,
        4914
      ],
      [
        0,
        31535,
        4914,
        4914
      ],
      [
        4505,
        31535,
        4914,
        4914
      ],
      [
        9010,
        31535,
        4914,
        4914
      ],
      [
        13515,
        31535,
        4914,
        4914
      ],
      [
        18020,
        31535,
        4914,
        4914
      ],
      [
        22525,
        31535,
        4914,
        4914
      ],
      [
        27030,
        31535,
        4914,
        4914
      ],
      [
        31535,
        31535,
        4914,
        4914
      ],
      [
        36040,
        31535,
        4914,
        4914
      ],
      [
        40545,
        31535,
        4914,
        4914
      ],
      [
        43637,
        31535,
        4914,
        4914
      ],
      [
        0,
        34354,
        4914,
        4914
      ],
      [
        4505,
        34354,
        4914,
        4914
      ],
      [
        9010,
        34354,
        4914,
        4914
      ],
      [
        13515,
        34354,
        4914,
        4914
      ],
      [
        18020,
        34354,
        4914,
        4914
      ],
      [
        22525,
        34354,
        4914,
        4914
      ],
      [
        27030,
        34354,
        4914,
        4914
      ],
      [
        31535,
        34354,
        4914,
        4914
      ],
      [
        36040,
        34354,
        4914,
        4914
      ],
      [
        40545,
        34354,
        4914,
        4914
      ],
      [
        43637,
        34354,
        4914,
        4914
      ]
    ]
  },
  "segmentation_algorithm": {
    "experiment_properties": {
      "all_z_indexes": [
        0,
        1,
        2,
        3,
        4,
        5,
        6
      ],
      "z_positions_um": [
        1.5,
        3,
        4.5,
        6,
        7.5,
        9,
        10.5
      ]
    },
    "segmentation_tasks": [
      {
        "task_id": 0,
        "segmentation_family": "Cellpose",
        "entity_types_detected": [
          "cell"
        ],
        "z_layers": [
          3
        ],
        "segmentation_properties": {
          "model": null,
          "model_dimensions": "2D",
          "custom_weights": "cpsam",
          "version": "latest"
        },
        "task_input_data": [
          {
            "image_channel": "PolyT",
            "image_preprocessing": [
              {
                "name": "normalize",
                "parameters": {
                  "type": "CLAHE",
                  "clip_limit": 0.01,
                  "filter_size": [
                    100,
                    100
                  ]
                }
              }
            ]
          },
          {
            "image_channel": "DAPI",
            "image_preprocessing": [
              {
                "name": "normalize",
                "parameters": {
                  "type": "CLAHE",
                  "clip_limit": 0.01,
                  "filter_size": [
                    100,
                    100
                  ]
                }
              }
            ]
          }
        ],
        "segmentation_parameters": {
          "nuclear_channel": "DAPI",
          "entity_fill_channel": "PolyT",
          "diameter": 70,
          "flow_threshold": 0.95,
          "mask_threshold": -5.5,
          "min_size": 500
        },
        "polygon_parameters": {
          "simplification_tol": 0.0,
          "smoothing_radius": 0.0,
          "minimum_final_area": 500
        }
      },
      {
        "task_id": 1,
        "segmentation_family": "Cellpose",
        "entity_types_detected": [
          "cell"
        ],
        "z_layers": [
          3
        ],
        "segmentation_properties": {
          "model": "nuclei",
          "model_dimensions": "2D",
          "custom_weights": null,
          "version": "latest"
        },
        "task_input_data": [
          {
            "image_channel": "DAPI",
            "image_preprocessing": [
              {
                "name": "normalize",
                "parameters": {
                  "type": "CLAHE",
                  "clip_limit": 0.01,
                  "filter_size": [
                    100,
                    100
                  ]
                }
              }
            ]
          }
        ],
        "segmentation_parameters": {
          "nuclear_channel": "DAPI",
          "entity_fill_channel": null,
          "diameter": 55,
          "flow_threshold": 0.8,
          "mask_threshold": -3,
          "min_size": 500
        },
        "polygon_parameters": {
          "simplification_tol": 0.0,
          "smoothing_radius": 0.0,
          "minimum_final_area": 500
        }
      }
    ],
    "segmentation_task_fusion": {
      "entity_fusion_strategy": "harmonize",
      "fused_polygon_postprocessing_parameters": {
        "min_distance_between_entities": 1,
        "min_final_area": 500
      }
    },
    "output_files": [
      {
        "entity_types_output": [
          "cell"
        ],
        "files": {
          "run_on_tile_dir": "result_tiles",
          "mosaic_geometry_file": "cellpose_mosaic_space.parquet",
          "micron_geometry_file": "cellpose_micron_space.parquet",
          "cell_metadata_file": "cellpose_cell_metadata.csv"
        }
      }
    ]
  }
}