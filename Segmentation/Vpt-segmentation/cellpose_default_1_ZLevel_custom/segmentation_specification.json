{
  "timestamp": 1749496340.77508,
  "input_args": {
    "segmentation_algorithm": "./cellpose_default_1_ZLevel_custom.json",
    "input_path": "E:/Githubs/SPATIAL_data/data_p30-E165/R1/images/mosaic_(?P<stain>[\\w|-]+)_z(?P<z>[0-9]+).tif",
    "input_micron_to_mosaic_path": "E:/Githubs/SPATIAL_data/data_p30-E165/R1/images/micron_to_mosaic_pixel_transform.csv",
    "output_path": "./cellpose_default_1_ZLevel_custom",
    "tile_size": 2400,
    "tile_overlap": 200
  },
  "installed_versions": {
    "python": "3.10.18 | packaged by conda-forge | (main, Jun  4 2025, 14:42:04) [MSC v.1943 64 bit (AMD64)]",
    "vpt": "1.3.0",
    "vpt_core": "1.2.0",
    "vpt_plugin_watershed": "1.0.2",
    "vpt_plugin_cellpose": "1.0.2",
    "geopandas": "0.14.4",
    "shapely": "2.1.1",
    "s3fs": "2024.2.0",
    "gcsfs": "2024.2.0",
    "rasterio": "1.4.3",
    "cellpose": "4.0.4",
    "stardist": "0.8.3"
  },
  "input_data": {
    "micron_to_mosaic_tform": [
      [
        9.25944995880127,
        0.0,
        -77980.828125
      ],
      [
        0.0,
        9.259565353393555,
        -48136.73828125
      ],
      [
        0.0,
        0.0,
        1.0
      ]
    ],
    "z_layers": [
      3
    ],
    "channels": [
      "DAPI",
      "PolyT"
    ],
    "images": [
      {
        "channel": "PolyT",
        "z_layer": 3,
        "full_path": "E:/Githubs/SPATIAL_data/data_p30-E165/R1/images/mosaic_PolyT_z3.tif"
      },
      {
        "channel": "DAPI",
        "z_layer": 3,
        "full_path": "E:/Githubs/SPATIAL_data/data_p30-E165/R1/images/mosaic_DAPI_z3.tif"
      }
    ]
  },
  "window_grid": {
    "mosaic_size": [
      48551,
      39268
    ],
    "tile_size": [
      2400,
      2400
    ],
    "tile_overlap": 200,
    "num_tiles": 304,
    "windows": [
      [
        0,
        0,
        2800,
        2800
      ],
      [
        2600,
        0,
        2800,
        2800
      ],
      [
        5200,
        0,
        2800,
        2800
      ],
      [
        7800,
        0,
        2800,
        2800
      ],
      [
        10400,
        0,
        2800,
        2800
      ],
      [
        13000,
        0,
        2800,
        2800
      ],
      [
        15600,
        0,
        2800,
        2800
      ],
      [
        18200,
        0,
        2800,
        2800
      ],
      [
        20800,
        0,
        2800,
        2800
      ],
      [
        23400,
        0,
        2800,
        2800
      ],
      [
        26000,
        0,
        2800,
        2800
      ],
      [
        28600,
        0,
        2800,
        2800
      ],
      [
        31200,
        0,
        2800,
        2800
      ],
      [
        33800,
        0,
        2800,
        2800
      ],
      [
        36400,
        0,
        2800,
        2800
      ],
      [
        39000,
        0,
        2800,
        2800
      ],
      [
        41600,
        0,
        2800,
        2800
      ],
      [
        44200,
        0,
        2800,
        2800
      ],
      [
        45751,
        0,
        2800,
        2800
      ],
      [
        0,
        2600,
        2800,
        2800
      ],
      [
        2600,
        2600,
        2800,
        2800
      ],
      [
        5200,
        2600,
        2800,
        2800
      ],
      [
        7800,
        2600,
        2800,
        2800
      ],
      [
        10400,
        2600,
        2800,
        2800
      ],
      [
        13000,
        2600,
        2800,
        2800
      ],
      [
        15600,
        2600,
        2800,
        2800
      ],
      [
        18200,
        2600,
        2800,
        2800
      ],
      [
        20800,
        2600,
        2800,
        2800
      ],
      [
        23400,
        2600,
        2800,
        2800
      ],
      [
        26000,
        2600,
        2800,
        2800
      ],
      [
        28600,
        2600,
        2800,
        2800
      ],
      [
        31200,
        2600,
        2800,
        2800
      ],
      [
        33800,
        2600,
        2800,
        2800
      ],
      [
        36400,
        2600,
        2800,
        2800
      ],
      [
        39000,
        2600,
        2800,
        2800
      ],
      [
        41600,
        2600,
        2800,
        2800
      ],
      [
        44200,
        2600,
        2800,
        2800
      ],
      [
        45751,
        2600,
        2800,
        2800
      ],
      [
        0,
        5200,
        2800,
        2800
      ],
      [
        2600,
        5200,
        2800,
        2800
      ],
      [
        5200,
        5200,
        2800,
        2800
      ],
      [
        7800,
        5200,
        2800,
        2800
      ],
      [
        10400,
        5200,
        2800,
        2800
      ],
      [
        13000,
        5200,
        2800,
        2800
      ],
      [
        15600,
        5200,
        2800,
        2800
      ],
      [
        18200,
        5200,
        2800,
        2800
      ],
      [
        20800,
        5200,
        2800,
        2800
      ],
      [
        23400,
        5200,
        2800,
        2800
      ],
      [
        26000,
        5200,
        2800,
        2800
      ],
      [
        28600,
        5200,
        2800,
        2800
      ],
      [
        31200,
        5200,
        2800,
        2800
      ],
      [
        33800,
        5200,
        2800,
        2800
      ],
      [
        36400,
        5200,
        2800,
        2800
      ],
      [
        39000,
        5200,
        2800,
        2800
      ],
      [
        41600,
        5200,
        2800,
        2800
      ],
      [
        44200,
        5200,
        2800,
        2800
      ],
      [
        45751,
        5200,
        2800,
        2800
      ],
      [
        0,
        7800,
        2800,
        2800
      ],
      [
        2600,
        7800,
        2800,
        2800
      ],
      [
        5200,
        7800,
        2800,
        2800
      ],
      [
        7800,
        7800,
        2800,
        2800
      ],
      [
        10400,
        7800,
        2800,
        2800
      ],
      [
        13000,
        7800,
        2800,
        2800
      ],
      [
        15600,
        7800,
        2800,
        2800
      ],
      [
        18200,
        7800,
        2800,
        2800
      ],
      [
        20800,
        7800,
        2800,
        2800
      ],
      [
        23400,
        7800,
        2800,
        2800
      ],
      [
        26000,
        7800,
        2800,
        2800
      ],
      [
        28600,
        7800,
        2800,
        2800
      ],
      [
        31200,
        7800,
        2800,
        2800
      ],
      [
        33800,
        7800,
        2800,
        2800
      ],
      [
        36400,
        7800,
        2800,
        2800
      ],
      [
        39000,
        7800,
        2800,
        2800
      ],
      [
        41600,
        7800,
        2800,
        2800
      ],
      [
        44200,
        7800,
        2800,
        2800
      ],
      [
        45751,
        7800,
        2800,
        2800
      ],
      [
        0,
        10400,
        2800,
        2800
      ],
      [
        2600,
        10400,
        2800,
        2800
      ],
      [
        5200,
        10400,
        2800,
        2800
      ],
      [
        7800,
        10400,
        2800,
        2800
      ],
      [
        10400,
        10400,
        2800,
        2800
      ],
      [
        13000,
        10400,
        2800,
        2800
      ],
      [
        15600,
        10400,
        2800,
        2800
      ],
      [
        18200,
        10400,
        2800,
        2800
      ],
      [
        20800,
        10400,
        2800,
        2800
      ],
      [
        23400,
        10400,
        2800,
        2800
      ],
      [
        26000,
        10400,
        2800,
        2800
      ],
      [
        28600,
        10400,
        2800,
        2800
      ],
      [
        31200,
        10400,
        2800,
        2800
      ],
      [
        33800,
        10400,
        2800,
        2800
      ],
      [
        36400,
        10400,
        2800,
        2800
      ],
      [
        39000,
        10400,
        2800,
        2800
      ],
      [
        41600,
        10400,
        2800,
        2800
      ],
      [
        44200,
        10400,
        2800,
        2800
      ],
      [
        45751,
        10400,
        2800,
        2800
      ],
      [
        0,
        13000,
        2800,
        2800
      ],
      [
        2600,
        13000,
        2800,
        2800
      ],
      [
        5200,
        13000,
        2800,
        2800
      ],
      [
        7800,
        13000,
        2800,
        2800
      ],
      [
        10400,
        13000,
        2800,
        2800
      ],
      [
        13000,
        13000,
        2800,
        2800
      ],
      [
        15600,
        13000,
        2800,
        2800
      ],
      [
        18200,
        13000,
        2800,
        2800
      ],
      [
        20800,
        13000,
        2800,
        2800
      ],
      [
        23400,
        13000,
        2800,
        2800
      ],
      [
        26000,
        13000,
        2800,
        2800
      ],
      [
        28600,
        13000,
        2800,
        2800
      ],
      [
        31200,
        13000,
        2800,
        2800
      ],
      [
        33800,
        13000,
        2800,
        2800
      ],
      [
        36400,
        13000,
        2800,
        2800
      ],
      [
        39000,
        13000,
        2800,
        2800
      ],
      [
        41600,
        13000,
        2800,
        2800
      ],
      [
        44200,
        13000,
        2800,
        2800
      ],
      [
        45751,
        13000,
        2800,
        2800
      ],
      [
        0,
        15600,
        2800,
        2800
      ],
      [
        2600,
        15600,
        2800,
        2800
      ],
      [
        5200,
        15600,
        2800,
        2800
      ],
      [
        7800,
        15600,
        2800,
        2800
      ],
      [
        10400,
        15600,
        2800,
        2800
      ],
      [
        13000,
        15600,
        2800,
        2800
      ],
      [
        15600,
        15600,
        2800,
        2800
      ],
      [
        18200,
        15600,
        2800,
        2800
      ],
      [
        20800,
        15600,
        2800,
        2800
      ],
      [
        23400,
        15600,
        2800,
        2800
      ],
      [
        26000,
        15600,
        2800,
        2800
      ],
      [
        28600,
        15600,
        2800,
        2800
      ],
      [
        31200,
        15600,
        2800,
        2800
      ],
      [
        33800,
        15600,
        2800,
        2800
      ],
      [
        36400,
        15600,
        2800,
        2800
      ],
      [
        39000,
        15600,
        2800,
        2800
      ],
      [
        41600,
        15600,
        2800,
        2800
      ],
      [
        44200,
        15600,
        2800,
        2800
      ],
      [
        45751,
        15600,
        2800,
        2800
      ],
      [
        0,
        18200,
        2800,
        2800
      ],
      [
        2600,
        18200,
        2800,
        2800
      ],
      [
        5200,
        18200,
        2800,
        2800
      ],
      [
        7800,
        18200,
        2800,
        2800
      ],
      [
        10400,
        18200,
        2800,
        2800
      ],
      [
        13000,
        18200,
        2800,
        2800
      ],
      [
        15600,
        18200,
        2800,
        2800
      ],
      [
        18200,
        18200,
        2800,
        2800
      ],
      [
        20800,
        18200,
        2800,
        2800
      ],
      [
        23400,
        18200,
        2800,
        2800
      ],
      [
        26000,
        18200,
        2800,
        2800
      ],
      [
        28600,
        18200,
        2800,
        2800
      ],
      [
        31200,
        18200,
        2800,
        2800
      ],
      [
        33800,
        18200,
        2800,
        2800
      ],
      [
        36400,
        18200,
        2800,
        2800
      ],
      [
        39000,
        18200,
        2800,
        2800
      ],
      [
        41600,
        18200,
        2800,
        2800
      ],
      [
        44200,
        18200,
        2800,
        2800
      ],
      [
        45751,
        18200,
        2800,
        2800
      ],
      [
        0,
        20800,
        2800,
        2800
      ],
      [
        2600,
        20800,
        2800,
        2800
      ],
      [
        5200,
        20800,
        2800,
        2800
      ],
      [
        7800,
        20800,
        2800,
        2800
      ],
      [
        10400,
        20800,
        2800,
        2800
      ],
      [
        13000,
        20800,
        2800,
        2800
      ],
      [
        15600,
        20800,
        2800,
        2800
      ],
      [
        18200,
        20800,
        2800,
        2800
      ],
      [
        20800,
        20800,
        2800,
        2800
      ],
      [
        23400,
        20800,
        2800,
        2800
      ],
      [
        26000,
        20800,
        2800,
        2800
      ],
      [
        28600,
        20800,
        2800,
        2800
      ],
      [
        31200,
        20800,
        2800,
        2800
      ],
      [
        33800,
        20800,
        2800,
        2800
      ],
      [
        36400,
        20800,
        2800,
        2800
      ],
      [
        39000,
        20800,
        2800,
        2800
      ],
      [
        41600,
        20800,
        2800,
        2800
      ],
      [
        44200,
        20800,
        2800,
        2800
      ],
      [
        45751,
        20800,
        2800,
        2800
      ],
      [
        0,
        23400,
        2800,
        2800
      ],
      [
        2600,
        23400,
        2800,
        2800
      ],
      [
        5200,
        23400,
        2800,
        2800
      ],
      [
        7800,
        23400,
        2800,
        2800
      ],
      [
        10400,
        23400,
        2800,
        2800
      ],
      [
        13000,
        23400,
        2800,
        2800
      ],
      [
        15600,
        23400,
        2800,
        2800
      ],
      [
        18200,
        23400,
        2800,
        2800
      ],
      [
        20800,
        23400,
        2800,
        2800
      ],
      [
        23400,
        23400,
        2800,
        2800
      ],
      [
        26000,
        23400,
        2800,
        2800
      ],
      [
        28600,
        23400,
        2800,
        2800
      ],
      [
        31200,
        23400,
        2800,
        2800
      ],
      [
        33800,
        23400,
        2800,
        2800
      ],
      [
        36400,
        23400,
        2800,
        2800
      ],
      [
        39000,
        23400,
        2800,
        2800
      ],
      [
        41600,
        23400,
        2800,
        2800
      ],
      [
        44200,
        23400,
        2800,
        2800
      ],
      [
        45751,
        23400,
        2800,
        2800
      ],
      [
        0,
        26000,
        2800,
        2800
      ],
      [
        2600,
        26000,
        2800,
        2800
      ],
      [
        5200,
        26000,
        2800,
        2800
      ],
      [
        7800,
        26000,
        2800,
        2800
      ],
      [
        10400,
        26000,
        2800,
        2800
      ],
      [
        13000,
        26000,
        2800,
        2800
      ],
      [
        15600,
        26000,
        2800,
        2800
      ],
      [
        18200,
        26000,
        2800,
        2800
      ],
      [
        20800,
        26000,
        2800,
        2800
      ],
      [
        23400,
        26000,
        2800,
        2800
      ],
      [
        26000,
        26000,
        2800,
        2800
      ],
      [
        28600,
        26000,
        2800,
        2800
      ],
      [
        31200,
        26000,
        2800,
        2800
      ],
      [
        33800,
        26000,
        2800,
        2800
      ],
      [
        36400,
        26000,
        2800,
        2800
      ],
      [
        39000,
        26000,
        2800,
        2800
      ],
      [
        41600,
        26000,
        2800,
        2800
      ],
      [
        44200,
        26000,
        2800,
        2800
      ],
      [
        45751,
        26000,
        2800,
        2800
      ],
      [
        0,
        28600,
        2800,
        2800
      ],
      [
        2600,
        28600,
        2800,
        2800
      ],
      [
        5200,
        28600,
        2800,
        2800
      ],
      [
        7800,
        28600,
        2800,
        2800
      ],
      [
        10400,
        28600,
        2800,
        2800
      ],
      [
        13000,
        28600,
        2800,
        2800
      ],
      [
        15600,
        28600,
        2800,
        2800
      ],
      [
        18200,
        28600,
        2800,
        2800
      ],
      [
        20800,
        28600,
        2800,
        2800
      ],
      [
        23400,
        28600,
        2800,
        2800
      ],
      [
        26000,
        28600,
        2800,
        2800
      ],
      [
        28600,
        28600,
        2800,
        2800
      ],
      [
        31200,
        28600,
        2800,
        2800
      ],
      [
        33800,
        28600,
        2800,
        2800
      ],
      [
        36400,
        28600,
        2800,
        2800
      ],
      [
        39000,
        28600,
        2800,
        2800
      ],
      [
        41600,
        28600,
        2800,
        2800
      ],
      [
        44200,
        28600,
        2800,
        2800
      ],
      [
        45751,
        28600,
        2800,
        2800
      ],
      [
        0,
        31200,
        2800,
        2800
      ],
      [
        2600,
        31200,
        2800,
        2800
      ],
      [
        5200,
        31200,
        2800,
        2800
      ],
      [
        7800,
        31200,
        2800,
        2800
      ],
      [
        10400,
        31200,
        2800,
        2800
      ],
      [
        13000,
        31200,
        2800,
        2800
      ],
      [
        15600,
        31200,
        2800,
        2800
      ],
      [
        18200,
        31200,
        2800,
        2800
      ],
      [
        20800,
        31200,
        2800,
        2800
      ],
      [
        23400,
        31200,
        2800,
        2800
      ],
      [
        26000,
        31200,
        2800,
        2800
      ],
      [
        28600,
        31200,
        2800,
        2800
      ],
      [
        31200,
        31200,
        2800,
        2800
      ],
      [
        33800,
        31200,
        2800,
        2800
      ],
      [
        36400,
        31200,
        2800,
        2800
      ],
      [
        39000,
        31200,
        2800,
        2800
      ],
      [
        41600,
        31200,
        2800,
        2800
      ],
      [
        44200,
        31200,
        2800,
        2800
      ],
      [
        45751,
        31200,
        2800,
        2800
      ],
      [
        0,
        33800,
        2800,
        2800
      ],
      [
        2600,
        33800,
        2800,
        2800
      ],
      [
        5200,
        33800,
        2800,
        2800
      ],
      [
        7800,
        33800,
        2800,
        2800
      ],
      [
        10400,
        33800,
        2800,
        2800
      ],
      [
        13000,
        33800,
        2800,
        2800
      ],
      [
        15600,
        33800,
        2800,
        2800
      ],
      [
        18200,
        33800,
        2800,
        2800
      ],
      [
        20800,
        33800,
        2800,
        2800
      ],
      [
        23400,
        33800,
        2800,
        2800
      ],
      [
        26000,
        33800,
        2800,
        2800
      ],
      [
        28600,
        33800,
        2800,
        2800
      ],
      [
        31200,
        33800,
        2800,
        2800
      ],
      [
        33800,
        33800,
        2800,
        2800
      ],
      [
        36400,
        33800,
        2800,
        2800
      ],
      [
        39000,
        33800,
        2800,
        2800
      ],
      [
        41600,
        33800,
        2800,
        2800
      ],
      [
        44200,
        33800,
        2800,
        2800
      ],
      [
        45751,
        33800,
        2800,
        2800
      ],
      [
        0,
        36400,
        2800,
        2800
      ],
      [
        2600,
        36400,
        2800,
        2800
      ],
      [
        5200,
        36400,
        2800,
        2800
      ],
      [
        7800,
        36400,
        2800,
        2800
      ],
      [
        10400,
        36400,
        2800,
        2800
      ],
      [
        13000,
        36400,
        2800,
        2800
      ],
      [
        15600,
        36400,
        2800,
        2800
      ],
      [
        18200,
        36400,
        2800,
        2800
      ],
      [
        20800,
        36400,
        2800,
        2800
      ],
      [
        23400,
        36400,
        2800,
        2800
      ],
      [
        26000,
        36400,
        2800,
        2800
      ],
      [
        28600,
        36400,
        2800,
        2800
      ],
      [
        31200,
        36400,
        2800,
        2800
      ],
      [
        33800,
        36400,
        2800,
        2800
      ],
      [
        36400,
        36400,
        2800,
        2800
      ],
      [
        39000,
        36400,
        2800,
        2800
      ],
      [
        41600,
        36400,
        2800,
        2800
      ],
      [
        44200,
        36400,
        2800,
        2800
      ],
      [
        45751,
        36400,
        2800,
        2800
      ],
      [
        0,
        36468,
        2800,
        2800
      ],
      [
        2600,
        36468,
        2800,
        2800
      ],
      [
        5200,
        36468,
        2800,
        2800
      ],
      [
        7800,
        36468,
        2800,
        2800
      ],
      [
        10400,
        36468,
        2800,
        2800
      ],
      [
        13000,
        36468,
        2800,
        2800
      ],
      [
        15600,
        36468,
        2800,
        2800
      ],
      [
        18200,
        36468,
        2800,
        2800
      ],
      [
        20800,
        36468,
        2800,
        2800
      ],
      [
        23400,
        36468,
        2800,
        2800
      ],
      [
        26000,
        36468,
        2800,
        2800
      ],
      [
        28600,
        36468,
        2800,
        2800
      ],
      [
        31200,
        36468,
        2800,
        2800
      ],
      [
        33800,
        36468,
        2800,
        2800
      ],
      [
        36400,
        36468,
        2800,
        2800
      ],
      [
        39000,
        36468,
        2800,
        2800
      ],
      [
        41600,
        36468,
        2800,
        2800
      ],
      [
        44200,
        36468,
        2800,
        2800
      ],
      [
        45751,
        36468,
        2800,
        2800
      ]
    ]
  },
  "segmentation_algorithm": {
    "experiment_properties": {
      "all_z_indexes": [
        0,
        1,
        2,
        3,
        4,
        5,
        6
      ],
      "z_positions_um": [
        1.5,
        3,
        4.5,
        6,
        7.5,
        9,
        10.5
      ]
    },
    "segmentation_tasks": [
      {
        "task_id": 0,
        "segmentation_family": "Cellpose",
        "entity_types_detected": [
          "cell"
        ],
        "z_layers": [
          3
        ],
        "segmentation_properties": {
          "model": "cyto2",
          "model_dimensions": "2D",
          "custom_weights": null,
          "version": "latest"
        },
        "task_input_data": [
          {
            "image_channel": "PolyT",
            "image_preprocessing": [
              {
                "name": "normalize",
                "parameters": {
                  "type": "CLAHE",
                  "clip_limit": 0.01,
                  "filter_size": [
                    10,
                    10
                  ]
                }
              }
            ]
          },
          {
            "image_channel": "DAPI",
            "image_preprocessing": [
              {
                "name": "normalize",
                "parameters": {
                  "type": "CLAHE",
                  "clip_limit": 0.01,
                  "filter_size": [
                    10,
                    10
                  ]
                }
              }
            ]
          }
        ],
        "segmentation_parameters": {
          "nuclear_channel": "DAPI",
          "entity_fill_channel": "PolyT",
          "diameter": 70,
          "flow_threshold": 0.95,
          "mask_threshold": -5.5,
          "min_size": 500
        },
        "polygon_parameters": {
          "simplification_tol": 2,
          "smoothing_radius": 10,
          "minimum_final_area": 500
        }
      },
      {
        "task_id": 1,
        "segmentation_family": "Cellpose",
        "entity_types_detected": [
          "cell"
        ],
        "z_layers": [
          3
        ],
        "segmentation_properties": {
          "model": "nuclei",
          "model_dimensions": "2D",
          "custom_weights": null,
          "version": "latest"
        },
        "task_input_data": [
          {
            "image_channel": "DAPI",
            "image_preprocessing": [
              {
                "name": "normalize",
                "parameters": {
                  "type": "CLAHE",
                  "clip_limit": 0.01,
                  "filter_size": [
                    10,
                    10
                  ]
                }
              }
            ]
          }
        ],
        "segmentation_parameters": {
          "nuclear_channel": "DAPI",
          "entity_fill_channel": null,
          "diameter": 55,
          "flow_threshold": 0.8,
          "mask_threshold": -3,
          "min_size": 500
        },
        "polygon_parameters": {
          "simplification_tol": 2,
          "smoothing_radius": 10,
          "minimum_final_area": 500
        }
      }
    ],
    "segmentation_task_fusion": {
      "entity_fusion_strategy": "harmonize",
      "fused_polygon_postprocessing_parameters": {
        "min_distance_between_entities": 1,
        "min_final_area": 500
      }
    },
    "output_files": [
      {
        "entity_types_output": [
          "cell"
        ],
        "files": {
          "run_on_tile_dir": "result_tiles",
          "mosaic_geometry_file": "cellpose_mosaic_space.parquet",
          "micron_geometry_file": "cellpose_micron_space.parquet",
          "cell_metadata_file": "cellpose_cell_metadata.csv"
        }
      }
    ]
  }
}